{% extends 'base.html' %} {% block body %}
<div class="flex h-screen">
  <div class="w-64 bg-gray-900 text-white rounded-lg m-4">
    <div class="p-4">
      <div class="rounded-lg overflow-hidden mb-4">
        <button
          class="accordion-button w-full px-4 py-2 text-left font-medium flex justify-between items-center hover:bg-gray-700 transition-colors duration-200"
          data-target="accordion1"
        >
          <span>Salles</span>
          <svg
            class="w-4 h-4 transform transition-transform duration-200"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            />
          </svg>
        </button>
        <div id="accordion1" class="hidden px-4 py-2">
          <div class="space-y-2">
            {% for option in salles %}
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                name="filter1[]"
                value="{{ option.value }}"
                class="cursor-pointer rounded bg-grey-700 text-red-500"
              />
              <span>{{ option.label }}</span>
            </label>
            {% endfor %}
          </div>
        </div>
      </div>

      <div class="rounded-lg overflow-hidden mb-4">
        <button
          class="accordion-button w-full px-4 py-2 text-left font-medium flex justify-between items-center hover:bg-gray-700 transition-colors duration-200"
          data-target="accordion2"
        >
          <span>Types de données</span>
          <svg
            class="w-4 h-4 transform transition-transform duration-200"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            />
          </svg>
        </button>
        <div id="accordion2" class="hidden px-4 py-2">
          <div class="space-y-2">
            {% for option in types_données %}
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                name="filter2[]"
                value="{{ option.value }}"
                class="cursor-pointer rounded bg-grey-700 text-red-500"
              />
              <span>{{ option.label }}</span>
            </label>
            {% endfor %}
          </div>
        </div>
      </div>

      <div class="rounded-lg overflow-hidden mb-4">
        <button
          class="accordion-button w-full px-4 py-2 text-left font-medium flex justify-between items-center hover:bg-gray-700 transition-colors duration-200"
          data-target="accordion3"
        >
          <span>Période</span>
          <svg
            class="w-4 h-4 transform transition-transform duration-200"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            />
          </svg>
        </button>
        <div id="accordion3" class="hidden px-4 py-2">
          <div class="space-y-3">
            <div>
              <label class="block text-sm font-medium">Date début</label>
              <input
                type="datetime-local"
                name="date_debut"
                class="mt-1 block w-full text-slate-950 rounded-md shadow-sm"
              />
            </div>
            <div>
              <label class="block text-sm font-medium">Date fin</label>
              <input
                type="datetime-local"
                name="date_fin"
                class="mt-1 block w-full text-slate-950 rounded-md shadow-sm"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="flex-1 p-8">{% block content %} {% endblock %}</div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll(".accordion-button").forEach((button) => {
      button.addEventListener("click", () => {
        const targetId = button.getAttribute("data-target");
        const content = document.getElementById(targetId);
        const icon = button.querySelector("svg");

        content.classList.toggle("hidden");
        button.classList.toggle("bg-gray-700");
        content.classList.toggle("bg-gray-700");
        icon.classList.toggle("rotate-180");
      });
    });
  });
</script>
{% endblock %}
